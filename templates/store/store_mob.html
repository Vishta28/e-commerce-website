{% extends 'main/main.html' %}


{% block title %}
Всі товари
{% endblock %}

{% block content %}

<!--filter-->

<div class="container-md mt-2" id="main-div">
    <div class="row">
        <div class="col-12 text-start mb-2">
            <small class="opacity-75 bg-light" style="font-size: small;"><a href="/" class="link-dark">Головна
                <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" fill="orange" class="bi bi-house-fill mb-1" viewBox="0 0 16 16">
                <path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L8 2.207l6.646 6.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293z"/>
                <path d="m8 3.293 6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293z"/>
                </svg></a> <span class="fw-semibold fs-6 m-1"> ></span> Всі товари
            </small>
        </div>
        <div class="col-6 d-flex justify-content-center align-items-center">
            <button type="button" class="btn btn-outline-secondary rounded-0 btn-md center px-4 d-flex align-items-center justify-content-center" data-bs-toggle="offcanvas" data-bs-target="#offcanvasLeft" aria-controls="offcanvasLeft">
                Фільтр
                <span class="vr mx-2"></span>
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="25" fill="currentColor" class="bi bi-sliders2" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M10.5 1a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V4H1.5a.5.5 0 0 1 0-1H10V1.5a.5.5 0 0 1 .5-.5M12 3.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5m-6.5 2A.5.5 0 0 1 6 6v1.5h8.5a.5.5 0 0 1 0 1H6V10a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5M1 8a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2A.5.5 0 0 1 1 8m9.5 2a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V13H1.5a.5.5 0 0 1 0-1H10v-1.5a.5.5 0 0 1 .5-.5m1.5 2.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5"/>
                </svg>
            </button>
        </div>

        <!--  order_by (сортування)  -->
        <div class="dropdown-center col-6 d-flex justify-content-center align-items-center">
            <button type="button" class="btn btn-outline-secondary rounded-0 d-flex align-items-center justify-content-center" data-bs-toggle="dropdown">
                Сортувати
                <span class="vr mx-2"></span>
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="25" fill="currentColor" class="bi bi-sort-down" viewBox="0 0 16 16">
                  <path d="M3.5 2.5a.5.5 0 0 0-1 0v8.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L3.5 11.293V2.5zm3.5 1a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zM7.5 6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zm0 3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3zm0 3a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1z"/>
                </svg>
            </button>
            <ul id="dropdown-store" class="dropdown-menu dropdown-menu-end rounded-0 text-center shadow">
                {% if plg %}
                <li><a class="dropdown-item" href="?plg=plugs_adapters&sort=price_up">Від дешевих</a></li>
                <li><hr class="dropdown-divider"></li>
                {% elif ac %}
                <li><a class="dropdown-item" href="?ac=accessories_store&sort=price_up">Від дешевих</a></li>
                <li><hr class="dropdown-divider"></li>
                {% else %}
                <li><a class="dropdown-item" href="?sort=price_up">Від дешевих</a></li>
                <li><hr class="dropdown-divider"></li>
                {% endif %}
                {% if plg %}
                <li><a class="dropdown-item" href="?plg=plugs_adapters&sort=price_down">Від дорогих</a></li>
                <li><hr class="dropdown-divider"></li>
                {% elif ac %}
                <li><a class="dropdown-item" href="?ac=accessories_store&sort=price_down">Від дорогих</a></li>
                <li><hr class="dropdown-divider"></li>
                {% else %}
                <li><a class="dropdown-item" href="?sort=price_down">Від дорогих</a></li>
                <li><hr class="dropdown-divider"></li>
                {% endif %}
                {% if plg %}
                <li><a class="dropdown-item" href="?plg=plugs_adapters&sort=date_new">Нові товари</a></li>
                <li><hr class="dropdown-divider"></li>
                {% elif ac %}
                <li><a class="dropdown-item" href="?ac=accessories_store&sort=date_new">Нові товари</a></li>
                <li><hr class="dropdown-divider"></li>
                {% else %}
                <li><a class="dropdown-item" href="?sort=date_new">Нові товари</a></li>
                <li><hr class="dropdown-divider"></li>
                {% endif %}
                {% if plg %}
                <li><a class="dropdown-item" href="?plg=plugs_adapter&sort=in_stock">Навяність товарів</a></li>
                {% elif ac %}
                <li><a class="dropdown-item" href="?ac=accessories_store&sort=in_stock">Навяність товарів</a></li>
                {% else %}
                <li><a class="dropdown-item" href="?sort=in_stock">Навяність товарів</a></li>
                {% endif %}
            </ul>
        </div>
        <div class="offcanvas offcanvas-bottom" tabindex="-1" id="offcanvasLeft" aria-labelledby="offcanvasLeftLabel">
            <div class="offcanvas-header">
                <h5 class="offcanvas-title" id="offcanvasLeftLabel">Фільтр</h5>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body overflow-auto">
                {% if ac or plg %}
                <form>
                    <div class="display-6 border-start border-3 border-warning bg-white text-dark rounded-0 mb-3" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">
                        <span class="ms-3">Оберіть тип:</span>
                    </div>
                    <ul class="list-group rounded-0 mb-3">
                        <div class="row">
                        {% for key, value in view.get_parameters.accessories_type.items %}
                            <span class="col-12">
                                <li class="list-group-item border-0">
                                    <input class="form-check-input me-1" type="checkbox" value="{{key}}" id="accessories_type" name="accessories_type">
                                    <label class="form-check-label" for="accessories_type">{{value}}</label>
                                </li>
                            </span>
                        {% endfor %}
                        </div>
                    </ul>
                    <button type="submit" class="btn btn-warning rounded-0 opacity-75 w-100"
                        hx-get="{% url 'store' %}?ac='accessories_store'"
                        hx-trigger="click"
                        hx-target="#all-items"
                        hx-select="#all-items"
                        hx-include="#accessories_type"
                        hx-push-url="true"
                        hx-swap="outerHTML" data-bs-dismiss="offcanvas">
                        Підтвердити
                    </button>
                </form>
                {% else %}
                <form>
                    <div class="accordion" id="accordionExample">
                        <div class="accordion-item border-0">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed border-start border-3 border-warning bg-white text-dark rounded-0 mb-3" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                    Тип обладнання
                                </button>
                            </h2>
                        </div>
                        <div id="collapseOne" class="accordion-collapse collapse">
                            <div class="accordion-body">
                                <ul class="list-group rounded-0 mb-3">
                                {% for parameters in view.get_parameters.categories %}
                                    <li class="list-group-item">
                                        <input class="form-check-input me-1" type="checkbox" value="{{ parameters }}" id="categories" name="categories">
                                        <label class="form-check-label" for="categories">
                                            {% if parameters == 1 %}
                                            Зарядні пристрої
                                            {% elif parameters == 2 %}
                                            Зарядні кабелі
                                            {% endif %}
                                        </label>
                                    </li>
                                {% endfor %}
                                </ul>
                            </div>
                        </div>
                        <div class="accordion-item border-0">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed border-start border-3 border-warning bg-white text-dark rounded-0 mb-3" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">
                                    Тип роз'єму
                                </button>
                            </h2>
                        </div>
                        <div id="collapseTwo" class="accordion-collapse collapse">
                            <div class="accordion-body">
                                <ul class="list-group rounded-0 mb-3">
                                    {% for parameters in view.get_parameters.types %}
                                    <li class="list-group-item">
                                        <input class="form-check-input me-1" type="checkbox" value="{{ parameters }}" id="type" name="type">
                                        <label class="form-check-label" for="type">{{parameters}}</label>
                                    </li>
                                    {% endfor %}
                                </ul>
                            </div>
                        </div>
                        <div class="accordion-item border-0">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed border-start border-3 border-warning bg-white text-dark rounded-0 mb-3" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="true" aria-controls="collapseThree">
                                    Потужність
                                </button>
                            </h2>
                        </div>
                        <div id="collapseThree" class="accordion-collapse collapse">
                            <div class="accordion-body">
                                <div class="btn-group d-flex justify-content-center" role="group" aria-label="Vertical radio toggle button group">
                                      <input type="radio" class="btn-check" name="vbtn-radio" id="vbtn-radio1" autocomplete="off" checked data-bs-toggle="collapse" data-bs-target="#collapseAmper" aria-expanded="false" aria-controls="collapseAmper">
                                      <label class="btn btn-outline-danger rounded-0" for="vbtn-radio1">Ампери</label>
                                      <input type="radio" class="btn-check" name="vbtn-radio" id="vbtn-radio2" autocomplete="off" data-bs-toggle="collapse" data-bs-target="#collapseKvt" aria-expanded="false" aria-controls="collapseKvt">
                                      <label class="btn btn-outline-danger rounded-0" for="vbtn-radio2">Кіловати</label>
                                </div>
                                <div class="collapse show" id="collapseAmper" data-bs-parent="#collapseThree">
                                    <div class="card card-body rounded-0">
                                        <ul class="list-group rounded-0">
                                        {% for parameters in view.get_parameters.powers_amps %}
                                        <li class="list-group-item border-0">
                                            <input class="form-check-input me-1" type="checkbox" value="{{ parameters }}" id="power_amps" name="power_amps">
                                            <label class="form-check-label" for="power_amps">{{parameters}} Ампер</label>
                                        </li>
                                        {% endfor %}
                                        </ul>
                                    </div>
                                </div>
                                <div class="collapse" id="collapseKvt" data-bs-parent="#collapseThree">
                                    <div class="card card-body rounded-0">
                                        <ul class="list-group rounded-0">
                                        {% for parameters in view.get_parameters.power %}
                                        <li class="list-group-item border-0">
                                            <input class="form-check-input me-1" type="checkbox" value="{{ parameters }}" id="power" name="power">
                                            <label class="form-check-label" for="power">{{parameters}} кВт</label>
                                        </li>
                                        {% endfor %}
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item border-0">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed border-start border-3 border-warning bg-white text-dark rounded-0 mb-3" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="true" aria-controls="collapseFour">
                                    Кількість фаз
                                </button>
                            </h2>
                        </div>
                        <div id="collapseFour" class="accordion-collapse collapse">
                            <div class="accordion-body">
                                <ul class="list-group rounded-0 mb-3">
                                   {% for parameters in view.get_parameters.phases %}
                                     <li class="list-group-item">
                                        <input class="form-check-input me-1" type="checkbox" value="{{ parameters }}" id="phases" name="phases">
                                        <label class="form-check-label" for="phases">{{parameters}}</label>
                                    </li>
                                    {% endfor %}
                                </ul>
                            </div>
                        </div>
                        <div class="accordion-item border-0">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed border-start border-3 border-warning bg-white text-dark rounded-0 mb-3" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="true" aria-controls="collapseFive">
                                    Бренд
                                </button>
                            </h2>
                        </div>
                        <div id="collapseFive" class="accordion-collapse collapse">
                            <div class="accordion-body">
                                <ul class="list-group rounded-0 mb-3">
                                    {% for parameters in view.get_parameters.brands %}
                                    <li class="list-group-item">
                                        <input class="form-check-input me-1" type="checkbox" value="{{ parameters }}" id="brand" name="brand">
                                        <label class="form-check-label" for="brand">{{parameters}}</label>
                                    </li>
                                    {% endfor %}
                                </ul>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-warning opacity-75 rounded-0 w-100"
                            hx-get="{% url 'store' %}"
                            hx-trigger="click"
                            hx-target="#all-items"
                            hx-select="#all-items"
                            hx-include="#categories, #type, #power_amps, #power, #phases, #brand"
                            hx-push-url="true"
                            hx-swap="outerHTML" data-bs-dismiss="offcanvas">
                            Пошук
                        </button>
                    </div>
                </form>
                {% endif %}
            </div>
        </div>
    </div>
</div>

<!--  all items list  -->

<div class="container-md mt-3">
    <div id="all-items" class="row g-0">
        <div id="modals-here"
            class="modal modal-blur fade p-2"
            style="display: none"
            aria-hidden="false"
            tabindex="-1">
            <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
                <div class="modal-content"></div>
            </div>
        </div>
<!--        Допоміжний текст-->
        <div class="col-12 mt-1 mb-2">
            {% if q %}
            <div class="col-12 bg-light fs-5 fw-light p-1">Результати за запитом:
                <span class="text-warning">{{q}}</span>
                <a href="{% url 'store' %}">
                    <button type="button" class="btn btn-sm btn-close"></button>
                </a>
            </div>
            {% elif parameters_list %}
            <div class="col-12 bg-light fs-5 fw-light p-1">
                {% if ac %}
                <span class="bg-light fs-5 fw-light p-1">Результати за <badge class="text-warning">фільтром:</badge></span>
                <a href="{% url 'store' %}?ac='accessories_store'">
                <button type="button" class="btn btn-sm btn-close mb-1"></button>
                </a>
                {% else %}
                <span class="bg-light fs-5 fw-light p-1">Результати за <badge class="text-warning">фільтром:</badge></span>
                <a href="{% url 'store' %}">
                <button type="button" class="btn btn-sm btn-close mb-1"></button>
                </a>
                {% endif %}
            </div>
            {% else %}
                {% if plg %}
                <p class="col-12 bg-light fs-5 fw-light p-1 text-center">Всі представлені <span class="text-warning">перехідники/розетки:</span></p>
                {% elif ac %}
                <p class="col-12 bg-light fs-5 fw-light p-1 text-center">Всі представлені <span class="text-warning">аксесуари:</span></p>
                {% else %}
                <p class="col-12 bg-light fs-5 fw-light p-1 text-center">Всі представлені товари:</p>
                {% endif %}
            {% endif %}
        </div>
        {% for item in items %}
        <div class="col-6 col-lg-4">
            <div class="card custom-card border-0 position-relative" id="item-card-mob">
                <!--  top card  -->
                {% if chargersitems_images|get_item:item.slug %}
                    {% for image in chargersitems_images|get_item:item.slug %}
                    <div class="card-image">
                        {% for model in item.model.all %}
                            {% if forloop.first %}
                            <a href="{% url 'item_detail' category=item.category.slug model=model.slug charger_slug=item.slug %}">
                                <img src="{{ image }}" class="card-img-top p-0" width="100%">
                            </a>
                            <a href="{% url 'item_detail' category=item.category.slug model=model.slug charger_slug=item.slug %}">
                                <small id="store_category" class="text-muted ms-3 position-absolute bottom-0 start-0">{{item.category}}</small>
                            </a>
                            {% endif %}
                        {% endfor %}
                    </div>
                    {% endfor %}
                {% else %}
                    <svg class="bd-placeholder-img" width="100%" height="170" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Image cap" preserveAspectRatio="xMidYMid slice" focusable="false">
                        <title>Placeholder</title>
                        <rect width="100%" height="100%" fill="#868e96"></rect>
                        <text x="25%" y="50%" fill="#dee2e6" dy=".3em">Упс, немає фото</text>
                    </svg>
                {% endif %}

                {% for model in item.model.all %}
                    {% if forloop.first %}
                    <div class="row position-absolute top-0 end-0 p-2">
                        {% if item.sale_price %}
                            <p class="col-8 bg-light bg-opacity-75 text-success fw-light mt-3">Знижка!</p>
                        {% endif %}
                        <button id="quick-view-{{item.slug}}" type="submit" class="btn col-4"
                            hx-get="{% url 'quick_view' category=item.category.slug model=model.slug charger_slug=item.slug %}"
                            hx-target="#modals-here"
                            hx-trigger="click"
                            hx-ext="loading-states"
                            data-loading-delay="500"
                            data-bs-toggle="modal"
                            data-bs-target="#modals-here">
                            <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" class="bi bi-fullscreen opacity-50" viewBox="0 0 16 16" data-loading-class="d-none">
                                <path d="M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1h-4zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zM.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5z"/>
                            </svg>
                            <span id="spinner" class="spinner-grow text-warning d-none top-0 end-0 p-2" role="status" data-loading-class-remove="d-none">
                                <span class="visually-hidden">Loading...</span>
                            </span>
                        </button>
                    </div>
                    {% endif %}
                {% endfor %}
                <div class="card-body">
                    <div class="card-title bg-light rounded-2">
                        {% for model in item.model.all %}
                            {% if forloop.first %}
                            <a class="text-dark" href="{% url 'item_detail' category=item.category.slug model=model.slug charger_slug=item.slug %}">
                                <p class="text-start fs-6 fw-light p-1">{{item.title}}</p>
                            </a>
                            {% endif %}
                        {% endfor %}
                    </div>
                    <div class="row ps-1">
                        {% if item.sale_price %}
                        <div class="col-6 fw-semibold">
                            <p class="fw-semibold text-success">{{ item.sale_price|multiply:currency}} {{currency_token}}</p>
                        </div>
                        {% else %}
                        <p class="col-6 fw-semibold">{{ item.price|multiply:currency}} {{currency_token}}</p>
                        {% endif %}

                        {% if item.in_stock == 'False' %}
                        <span class="col-6"
                            hx-get="{% url 'order_quick' item.slug %}"
                            hx-target="#contact-modals-here"
                            hx-trigger="click"
                            data-bs-toggle="modal"
                            data-bs-target="#contact-modals-here">
                            <button type="button" class="btn btn-light rounded-pill opacity-25 btn-sm">
                                {% load static %}<img src="{% static 'store/Checkout 01.svg' %}" width="30" height="30">
                            </button>
                        </span>
                        {% else %}
                        <span class="col-6 cart-from">
                            <form id="add-cart-button-{{item.slug}}"
                                hx-post="{% url 'add_to_cart' item.slug 'add-cart-button' %}"
                                hx-trigger="click"
                                hx-include="-{{item.slug}}"
                                hx-target="#header_menu_cart_button"
                                hx-swap="outerHTML transition:true">

                                {% csrf_token %}
                                <button type="button" class="btn rounded-pill btn-sm">
                                    {% load static %}<img src="{% static 'store/Checkout 01.svg' %}" width="30" height="30">
                                </button>
                            </form>
                        </span>
                        {% endif %}
                    </div>
                    <div class="d-flex justify-content-center">
                        {% if item.in_stock == 'True' %}
                        <button type="button" class="store-button btn btn-md border border-2 border-start-0 border-end-0 border-top-0 border-success rounded-0 opacity-75"
                            hx-get="{% url 'order_quick' item.slug %}"
                            hx-target="#contact-modals-here"
                            hx-trigger="click"
                            data-bs-toggle="modal"
                            data-bs-target="#contact-modals-here">
                            Купити
                        </button>
                        {% elif item.in_stock == 'pending' %}
                        <button type="button" class="store-button btn btn-md opacity-75 border border-2 border-start-0 border-end-0 border-top-0 border-warning rounded-0"
                            hx-get="{% url 'order_quick' item.slug %}"
                            hx-target="#contact-modals-here"
                            hx-trigger="click"
                            data-bs-toggle="modal"
                            data-bs-target="#contact-modals-here">
                            На замовлення
                        </button>
                        {% elif item.in_stock == 'False' %}
                        <button type="button" class="store-button btn btn-md opacity-75 border border-2 border-start-0 border-end-0 border-top-0 border-danger rounded-0"
                            hx-get="{% url 'order_quick' item.slug %}"
                            hx-target="#contact-modals-here"
                            hx-trigger="click"
                            data-bs-toggle="modal"
                            data-bs-target="#contact-modals-here">
                            Не в наявності
                        </button>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
        {% if is_paginated %}
        <nav aria-label="Page navigation" class="d-flex justify-content-center pt-2">
            <ul class="pagination opacity-75">
                {% if page_obj.has_previous %}
                <li class="page-item me-1" type="button">
                    <a class="page-link link-warning border-end-0 rounded-0" hx-get="?{{ queries }}&amp;page={{ page_obj.first_page }}" hx-target="#all-items" hx-select="#all-items" hx-swap="outerHTML" hx-push-url="true" aria-label="Previous">
                        <span aria-hidden="true" class="fs-5 d-flex align-items-center">
                            1
                        </span>
                    </a>
                </li>
                <li class="page-item me-1" type="button">
                    <a class="page-link link-warning border-end-0 rounded-0" hx-get="?{{ queries }}&amp;page={{ page_obj.previous_page_number }}" hx-target="#all-items" hx-select="#all-items" hx-swap="outerHTML" hx-push-url="true" aria-label="Previous">
                        <span aria-hidden="true" class="fs-5 d-flex align-items-center">&laquo;</span>
                    </a>
                </li>
                {% else %}
                <li class="page-item disabled" type="button">
                    <span class="page-link border-0 fs-5 d-flex align-items-center" aria-hidden="true">&laquo;</span>
                </li>
                {% endif %}

                {% for p in page_obj.paginator.page_range %}
                    {% if p == page_obj.number %}
                <li class="page-item fw-light border border-0 border-bottom">
                    <div class="p-1 mt-1">
                    сторінка <span class="text-warning">{{p}}</span> з {{page_obj.paginator.num_pages}}
                    </div>
                </li>
                    {% endif %}
                {% endfor %}

                {% if page_obj.has_next %}
                <li class="page-item ms-1" type="button">
                    <a class="page-link link-warning border-start-0 rounded-0" hx-get="?{{ queries }}&amp;page={{ page_obj.next_page_number }}" hx-target="#all-items" hx-select="#all-items" hx-swap="outerHTML" hx-push-url="true" aria-label="Next">
                        <span aria-hidden="true" class="fs-5 d-flex align-items-center">&raquo;</span>
                    </a>
                </li>
                <li class="page-item ms-1" type="button">
                    <a class="page-link link-warning border-start-0 rounded-0" hx-get="?{{ queries }}&amp;page={{ page_obj.paginator.num_pages }}" hx-target="#all-items" hx-select="#all-items" hx-swap="outerHTML" hx-push-url="true" aria-label="Previous">
                        <span aria-hidden="true" class="fs-5 d-flex align-items-center">
                            {{page_obj.paginator.num_pages}}
                        </span>
                    </a>
                </li>
                {% else %}
                <li class="page-item disabled">
                    <span class="page-link border-0 fs-5 d-flex align-items-center" aria-hidden="true">&raquo;</span>
                </li>
                {% endif %}
            </ul>
        </nav>
    {% endif %}
    </div>
</div>

<!--  pagination menu  -->
<div class="container mt-3 d-flex justify-content-center mt-2">
    {% if ac %}
    <a class="bg-light" href="{% url 'store' %}">
        <button type="button" class="btn btn-outline-secondary rounded-0 btn-md border border-2 border-top-0 border-bottom-0 border-end-0 border-warning px-4 d-flex align-items-center justify-content-center">
            До зарядного обладнання
            <span class="vr mx-2"></span>
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="orange" class="bi bi-arrow-right" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8"/>
            </svg>
        </button>
    </a>
    {% else %}
    <a class="bg-light" href="{% url 'store' %}?ac='accessories_store'">
        <button type="button" class="btn btn-outline-secondary rounded-0 btn-md border border-2 border-top-0 border-bottom-0 border-end-0 border-warning px-4 d-flex align-items-center justify-content-center" id="ac-button">
            Перейти до аксесуарів
            <span class="vr mx-2"></span>
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="orange" class="bi bi-arrow-right" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8"/>
            </svg>
        </button>
    </a>
    {% endif %}
</div>
<div class="container mt-3">
    <div class="accordion" id="accordionFlushExample">
        <div class="accordion-item border border-2">
            <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                Як правильно підібрати обладнання?
                </button>
            </h2>
            <div id="flush-collapseOne" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample">
                <div class="accordion-body">{{article.main_text | safe}}</div>
            </div>
        </div>
    </div>
</div>
<script>
    document.addEventListener("htmx:afterOnLoad", function(evt) {
        var element = document.getElementById("main-div");
        if (element) {
            element.scrollIntoView({ behavior: "smooth" });
        }
    });
</script>
{% endblock %}