{% extends 'main/main.html' %}

{% block title %}
Магазин
{% endblock %}

{% block content %}
<div id="swap-this" class="container mt-2">

    {% if item %}
    {% for detail in item %}
    <div class="row">
<!--        breadcrumbs-->
        <div class="col-12 mt-2">
            <small class="fs-6 fw-light">
                <a href="/" class="link-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="orange" class="bi bi-house-fill" viewBox="0 0 16 16">
                    <path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L8 2.207l6.646 6.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293z"/>
                    <path d="m8 3.293 6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293z"/>
                    </svg></a> <span class="text-info fw-semibold">></span>
                    {% if detail.category.slug == 'charging_stations' %} <a class="link-dark" href="{% url 'models_page' category='charging_stations' %}">
                    Зарядні пристрої</a> {% elif detail.category.slug == 'charging_cables' %} <a class="link-dark" href="{% url 'models_page' category='charging_cables' %}"> Зарядні кабелі</a> {% endif %}
                    <span class="text-info fw-semibold"> ></span> {% for model in detail.model.all %}{{model.title}}{% endfor %}
            </small>
        </div>
        <div class="dynamic-blinck col-12 mt-3">
            <div class="row d-flex justify-content-center">
                <p class="col-12 text-center text-lg-start fs-2 fw-light">{{detail.title}}</p>
                <div class="col-12 text-center text-lg-start">
                    <span class="fs-6 bg-light d-inline">{{detail.category.title}}</span>
                    {% if detail.product_article %}
                    <span class="d-none d-md-inline bg-light ms-3">Артикл: {{detail.product_article}}</span>
                    {% endif %}
                </div>
                {% if detail.product_article %}
                <span class="col-12 text-center text-lg-start d-block d-md-none">
                    <p class="fs-6 bg-light d-inline bg-light">Артикл: {{detail.product_article}}</p>
                </span>
                {% endif %}
            </div>
        </div>
    </div>
    <div class="row mt-1">
        <div class="col-sm-12 col-lg-8 col-xxl-8 d-flex align-items-start justify-content-start" style="z-index: 50;">
            <div id="carouselExampleFade" class="carousel slide carousel-dark mx-1" data-bs-interval="50000" data-bs-touch="true" data-bs-ride="carousel">
                <div class="carousel-inner dynamic-result">
                    {% if chargersitems_images|get_item:first_item.slug %}
                        {% for image in chargersitems_images|get_item:first_item.slug|slice:":1" %}
                        <div class="carousel-item active" data-loading-class="opacity-25" data-loading-delay="1000">
                            <img src="{{ image }}" class="img-fluid" alt="Image">
                            <div class="position-absolute top-0 end-0 p-2 opacity-50">
                              <a href="{{ image }}" class="link-secondary">
                                  <button class="zoomButton btn btn-lg">
                                      <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-zoom-in" viewBox="0 0 16 16">
                                          <path fill-rule="evenodd" d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11M13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0"/>
                                          <path d="M10.344 11.742c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1 6.538 6.538 0 0 1-1.398 1.4z"/>
                                          <path fill-rule="evenodd" d="M6.5 3a.5.5 0 0 1 .5.5V6h2.5a.5.5 0 0 1 0 1H7v2.5a.5.5 0 0 1-1 0V7H3.5a.5.5 0 0 1 0-1H6V3.5a.5.5 0 0 1 .5-.5"/>
                                      </svg>
                                  </button>
                              </a>
                          </div>
                        </div>
                        {% endfor %}
                        {% for image in chargersitems_images|get_item:first_item.slug|slice:"1:" %}
                        <div class="carousel-item">
                            <img src="{{ image }}" class="img-fluid" alt="...">
                            <div class="position-absolute top-0 end-0 p-2 opacity-50">
                              <a href="{{ image }}" class="link-secondary">
                                  <button class="zoomButton btn btn-lg">
                                      <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-zoom-in" viewBox="0 0 16 16">
                                          <path fill-rule="evenodd" d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11M13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0"/>
                                          <path d="M10.344 11.742c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1 6.538 6.538 0 0 1-1.398 1.4z"/>
                                          <path fill-rule="evenodd" d="M6.5 3a.5.5 0 0 1 .5.5V6h2.5a.5.5 0 0 1 0 1H7v2.5a.5.5 0 0 1-1 0V7H3.5a.5.5 0 0 1 0-1H6V3.5a.5.5 0 0 1 .5-.5"/>
                                      </svg>
                                  </button>
                              </a>
                          </div>
                        </div>
                        {% endfor %}
                    {% else %}
                    <div class="carousel-item active">
                        <svg class="bd-placeholder-img bd-placeholder-img-lg img-fluid" width="100%" height="250" xmlns="http://www.w3.org/2000/svg"
                            role="img" aria-label="Placeholder: Responsive image"
                            preserveAspectRatio="xMidYMid slice"
                            focusable="false"><title>Placeholder</title><rect
                            width="100%" height="100%"
                            fill="#868e96"></rect><text x="50%" y="50%"
                            fill="#dee2e6" dy=".3em">Упс, немає фото</text>
                        </svg>
                    </div>
                    {% endif %}

<!--                    favorite button-->
                    <div class="position-absolute top-0 start-0 p-2">
                        {% if item_exist_favorites %}
                        <div class="d-flex justify-content-start">
                            <div data-toggle="tooltip" data-placement="top" title="переглянути">
                                <button type="submit" class="btn btn-white rounded-pill bg-light opacity-75 btn-sm">
                                    <a href="{% url 'favorites' %}">
                                    {% load static %}<img src="{% static 'store/Like 04.svg' %}" width="50" height="40">
                                    </a>
                                </button>
                            </div>
                        </div>
                        {% else %}
                        <div class="d-flex justify-content-start">
                            <form id="favorite-button"
                                hx-post="{% url 'add_to_favorites' %}"
                                hx-trigger="click"
                                hx-swap="none transition:true">

                                {% csrf_token %}
                                <input type="hidden" name="slug" value="{{detail.slug}}">
                                <button type="submit" class="btn btn-white rounded-pill opacity-75 btn-sm">
                                    {% load static %}<img src="{% static 'store/Like 01.svg' %}" width="49" height="39">
                                </button>
                            </form>
                        </div>
                        {% endif %}
                    </div>
    <!--                    comparison button -->
                    <div class="position-absolute top-0 ms-5 ps-4 mt-2">
                        {% if item_exist_comparison %}
                        <div class="d-flex justify-content-end">
                            <div data-toggle="tooltip" data-placement="top" title="переглянути">
                                <button type="submit" class="btn btn-white rounded-pill bg-light opacity-75 btn-sm">
                                    <a href="{% url 'comparison' %}" type="submit">
                                        {% load static %}<img src="{% static 'store/Comparing 03.svg' %}" width="35" height="40">
                                    </a>
                                </button>
                            </div>
                        </div>
                        {% else %}
                        <div class="d-flex justify-content-end">
                            <form id="comparison_active"
                                hx-post="{% url 'add_to_comparison' %}"
                                hx-trigger="click"
                                hx-swap="none transition:true">

                                {% csrf_token %}
                                <input type="hidden" name="slug" value="{{detail.slug}}">
                                {% if user_agent.is_mobile %}
                                <input type="hidden" name="user_agent" value="True">
                                {% elif user_agent.is_tablet %}
                                <input type="hidden" name="user_agent" value="True">
                                {% else %}
                                <input type="hidden" name="user_agent" value="False">
                                {% endif %}
                                <button type="submit" class="btn btn-white rounded-pill opacity-75 btn-sm">
                                    {% load static %}<img src="{% static 'store/Comparing 00.svg' %}" width="35" height="40">
                                </button>
                            </form>
                        </div>
                        {% endif %}
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleFade" data-bs-slide="prev">
                      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                      <span class="visually-hidden">Previous</span>
                  </button>
                  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleFade" data-bs-slide="next">
                      <span class="carousel-control-next-icon" aria-hidden="true"></span>
                      <span class="visually-hidden">Next</span>
                  </button>
                  </div>
                </div>
            </div>

        {% if item %}
        <div class="col-sm-12 col-lg-4 col-xxl-4 d-flex align-items-center justify-content-start">
            <div class="row">
                <div class="col-12">
                    <form id="constructor-form-tt" class="mb-3 border border-0 border-start border-2 border-warning fw-light"
                          >
                        <div class="row d-flex ms-1">
                            <div class="col-5 d-flex align-items-center text-center">
                                <p>Тип роз'єму</p>
                            </div>
                            <div class="col-7 d-flex justify-content-end type-select">
                                <select class="constructor-form type-select form-select border-0 border-bottom rounded-0" name="type" hx-get="{% url 'constructor_options' %}" hx-target=".phases" hx-trigger="change">
                                    {% for values in type %}
                                        <option value="{{ values.type }}">{{values.type}}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>
                        <div class="row ms-1">
                            <div class="col-5 d-flex align-items-center text-center">
                                <p>Кількість фаз</p>
                            </div>
                            <div class="col-7 constructor-f d-flex justify-content-end phases">
                                <select class="constructor-form form-select border-0 border-bottom rounded-0" name="phases" hx-get="{% url 'constructor_options' %}" hx-target=".type-select" hx-trigger="change" hx-swap="innerHTML transition:true">
                                    {% for values in phases %}
                                        <option value="{{ values.phases }}">{{values.phases}}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>
                        <div class="row ms-1">
                            <div class="power-select col-5 d-flex align-items-center text-center">
                                <p>Ампери</p>
                            </div>
                            <div class="col-7 constructor-f d-flex justify-content-end">
                                <select class="constructor-form form-select border-0 border-bottom rounded-0" name="power_amps">
                                    {% for values in power_amps %}
                                        <option value="{{ values.power_amps }}">{{values.power_amps}}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>
                        <div class="row ms-1">
                            <div class="col-5 d-flex align-items-center text-center">
                                <p>Довжина</p>
                            </div>
                            <div class="col-7 constructor-f d-flex justify-content-end">
                                <select class="constructor-form form-select border-0 border-bottom rounded-0" name="cable_length">
                                    {% for values in cable_length %}
                                        <option value="{{ values.cable_length }}">{{values.cable_length}}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>
                        <div class="row ms-1">
                            <div class="col-5 d-flex align-items-center text-center">
                                <p>Колір</p>
                            </div>
                            <div class="col-7 constructor-f">
                                <select class="constructor-form form-select border-0 border-bottom rounded-0" name="color">
                                        <option value="{{ none }}">Помаранчевий</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-12">
                            {% for el in item.model.all %}
                            <select class="constructor-form form-select visually-hidden" name="model">
                                    <option value="{{ el.slug }}">{{el.slug}}</option>
                            </select>
                            {% endfor %}
                            <select class="constructor-form form-select visually-hidden" name="category">
                                    <option value="{{ item.category.slug }}">{{item.category.slug}}</option>
                            </select>
                            <select class="constructor-form form-select visually-hidden" name="item_result">
                                    <option value="true">true</option>
                            </select>
                        </div>
                        {% for model in detail.model.all %}
                        <button type="submit" id="conss" class="btn btn-warning disabled btn-md border-start-0 border-bottom-0 border-top-0 rounded-0 d-flex align-items-center justify-content-center mt-3 opacity-75 fw-light"
                            hx-get="{% url 'constructor_page' category=detail.category.slug model=model.slug %}"
                            hx-trigger="change delay:200ms"
                            hx-target="#swap-this"
                            hx-select="#swap-this"
                            hx-swap="outerHTML"
                            hx-ext="loading-states"
                            >
                            <span id="constructor-button-confirm-title">Оберіть параметри</span>
                            <span class="vr mx-2"></span>
                            <svg xmlns="http://www.w3.org/2000/svg" id="constructor-button-confirm" width="16" height="16" fill="dark" class="bi bi-arrow-up-right-square" viewBox="0 0 16 16">
                              <path fill-rule="evenodd" d="M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm5.854 8.803a.5.5 0 1 1-.708-.707L9.243 6H6.475a.5.5 0 1 1 0-1h3.975a.5.5 0 0 1 .5.5v3.975a.5.5 0 1 1-1 0V6.707z"/>
                            </svg>
                        </button>
                        {% endfor %}
                    </form>
                    <div class="container fw-light">
                        <div class="row d-flex justify-content-start dynamic-blinck">
                            <p class="col-6">Потужність, кВт:</p>
                            <p class="col-6 border-bottom">{{detail.power}} кВт</p>
                        </div>
                        <div class="row dynamic-blinck">
                            <p class="col-6">Захист від вологи:</p>
                            <p class="col-6 border-bottom">{{detail.protection}}</p>
                        </div>
                        <div class="row dynamic-blinck">
                            <p class="col-6">Формфактор:</p>
                            <p class="col-6 border-bottom">{{detail.form}}</p>
                        </div>
                        <div class="row dynamic-blinck">
                            <p class="col-6">Країна виробник:</p>
                            <p class="col-6 border-bottom">{{detail.country}}</p>
                        </div>
                        <div class="row dynamic-blinck">
                            <p class="col-6">Гарантія:</p>
                            <p class="col-6 border-bottom">{{detail.guarantee}}</p>
                        </div>
                    </div>
                </div>
                <div class="col-12 dynamic-result">
                    <div class="container">
                        <div class="row">
                            <div class="col-6 d-flex justify-content-start align-items-center">
                             {% if detail.in_stock == 'True' %}
                                {% if sale_price %}
                                <p class="mt-2 fw-light fs-5 pb-2">
                                {% else %}
                                <p class="mt-2 fw-light fs-4 pb-2">
                                {% endif %}
                                    В наявності
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="green" class="bi bi-check-circle" viewBox="0 0 16 16">
                                        <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                                        <path d="M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05"/>
                                    </svg>
                                </p>
                                {% elif detail.in_stock == 'False' %}
                                <p class="mt-2 fw-light fs-5 pb-2">
                                    Не в наявності
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="red" class="bi bi-x-circle" viewBox="0 0 16 16">
                                        <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                                        <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"/>
                                    </svg>
                                </p>
                                {% elif detail.in_stock == 'pending' %}
                                {% if sale_price %}
                                <p class="mt-2 fw-normal fs-6 pb-2">
                                {% else %}
                                <p class="mt-2 fw-normal fs-6 pb-2">
                                {% endif %}
                                    Під замовлення
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="orange" class="bi bi-info-circle-fill" viewBox="0 0 16 16">
                                        <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2"/>
                                    </svg>
                                </p>

                                {% endif %}
                            </div>
                            <div class="col-6 d-flex align-items-center justify-content-end">
                                {% if sale_price %}
                                <p class="fs-5 fw-semibold text-success">
                                    {{sale_price}} {{currency_token}}
                                </p>
                                <s class="fs-5 fw-semibold text-danger opacity-50 text-end ms-1"><small>{{currency_price}} {{currency_token}}</small></s>
                                {% else %}
                                <p class="fs-4 fw-semibold">{{currency_price}} {{currency_token}}</p>
                                {% endif %}
                            </div>
                            <div class="col-12 d-flex justify-content-center d-none">
                                {% for model in detail.model.all %}
                                <a href="{% url 'item_detail' category=detail.category.slug model=model.slug charger_slug=detail.slug %}">
                                    <button type="button" class="btn btn-outline-dark border-top-0 border-start-0 border-end-0 rounded-0 opacity-75 btn-lg">
                                        Переглянути сторінку товару
                                    </button>
                                </a>
                                {% endfor %}
                            </div>
                            <div class="col-12 d-flex justify-content-center mt-4">
                                {% if item_exist_cart %}
                                <button type="button" class="btn btn-success rounded-0 opacity-75 btn-lg"
                                    hx-get="{% url 'cart' %}"
                                    hx-target="#contact-modals-here"
                                    hx-trigger="click"
                                    data-bs-toggle="modal"
                                    data-bs-target="#contact-modals-here">
                                    Додано до кошика
                                </button>

                                {% else %}
        <!--                    Якшо товар не в наявності-->
                                {% if detail.in_stock == 'False' %}
                                <button type="button" class="btn btn-danger rounded-0 opacity-75 btn-lg"
                                    hx-get="{% url 'order_quick' detail.slug %}"
                                    hx-target="#contact-modals-here"
                                    hx-trigger="click"
                                    data-bs-toggle="modal"
                                    data-bs-target="#contact-modals-here">
                                    Додати до кошика
                                </button>

                                {% else %}
                                <form id="add-cart-button" class="cart-from"
                                    hx-post="{% url 'add_to_cart' detail.slug 'add-cart-button' %}"
                                    hx-trigger="click"
                                    hx-target="#header_menu_cart_button"
                                    hx-swap="outerHTML transition:true">

                                    {% csrf_token %}
                                    <button type="button" class="btn btn-warning rounded-0 opacity-75 btn-lg">
                                        Додати до кошика
                                    </button>
                                </form>
                                {% endif %}
                                {% endif %}
                            </div>

                            <div class="col-12 d-flex justify-content-center mt-4">
                                <button type="button" class="btn btn-warning rounded-0 opacity-75 btn-lg"
                                    hx-get="{% url 'order_quick' detail.slug %}"
                                    hx-target="#contact-modals-here"
                                    hx-trigger="click"
                                    data-bs-toggle="modal"
                                    data-bs-target="#contact-modals-here">
                                    Купити товар в один клік
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="dynamic-result">
            <p class="mt-4 text-center text-md-start"><b>Короткий опис:</b></p>
            <div class="col-12 bg-light p-1 text-center">
                {{detail.small_description}}
            </div>
        </div>
        <ul class="nav nav-tabs d-flex justify-content-center mt-4" id="myTab" role="tablist">
          <li class="nav-item">
            <button class="nav-link active link-secondary" id="description-tab" data-bs-toggle="tab" data-bs-target="#description-tab-pane" type="button" role="tab" aria-controls="home-tab-pane" aria-selected="true">Детальний опис</button>
          </li>

          <li class="nav-item">
            <button class="nav-link link-secondary" id="specs-tab" data-bs-toggle="tab" data-bs-target="#accessories-tab-pane" type="button" role="tab" aria-controls="profile-tab-pane" aria-selected="false">Аксесуари</button>
          </li>
    </ul>
        <div class="tab-content" id="myTabContent">
            <div class="tab-pane fade show active p-2 mt-2" id="description-tab-pane" role="tabpanel" aria-labelledby="contact-tab" tabindex="0">
                {{detail.description | safe}}
            </div>
            <div class="tab-pane fade opacity-75 mt-3" id="accessories-tab-pane" role="tabpanel" aria-labelledby="contact-tab" tabindex="0">
                <div class="d-flex justify-content-center mt-5">
                    {% for model in detail.model.all %}
                    <div class="spinner-grow text-warning" role="status"
                        hx-get="{% url 'item_detail_accessories' model detail.slug %}"
                        hx-ext="loading-states"
                        hx-target="#accessories-tab-pane"
                        hx-trigger="revealed"
                        hx-swap="innerHTML transition:true">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>


<!--        <div class="card border-1 mt-4">-->
<!--            Всі пристрої air-->
<!--           <div class="card-body d-flex flex-row overflow-auto">-->

<!--               <div class="col-3 d-block mx-auto card position-relative rounded-0" id="model-card" style="width: 15rem;">-->
<!--                   {% load static %}<img src="{% static 'store/wH8yUG6e0axpQxkS-generated_image.jpg' %}" class="bd-placeholder-img card-img-top" width="50%" height="220">-->
<!--                   <div class="cart-body">-->
<!--                       empty-->
<!--                   </div>-->
<!--               </div>-->

<!--           </div>-->
<!--       </div>-->
    </div>
    <script>
    document.getElementById("constructor-form-tt").addEventListener("change", function() {
        document.getElementById("conss").classList.remove("disabled", "opacity-75");
    });
    </script>
    {% endif %}
    {% endfor %}

    {% else %}
    <div class="row">
        <div class="col-12 fs-2">
            <p class="bg-light fw-light text-center">
                Ой, здається товару саме з такими характеристиками немає
            </p>
        </div>
        <div class="col-12 col-lg-8 dynamic-blinck mt-2">
            <div class="d-flex justify-content-center" style="position: relative; display: inline-block;">
                <p class="display-5 text-center text-semibold" style="position: absolute; top: 2; left: 50%; transform: translateX(-50%); z-index: 1;">

                </p>
                {% if user_agent.is_mobile %}
                    {% load static %}<img class="img-fluid dynamic-result opacity-50" src="{% static 'store/20aa5702-41d1-4f0f-8404-5395c72550e5.webp' %}" alt="unknown_product" style="width: 100%; height: 300px;">
                {% else %}
                    {% load static %}<img class="img-fluid dynamic-result opacity-50" src="{% static 'store/20aa5702-41d1-4f0f-8404-5395c72550e5.webp' %}" alt="unknown_product" style="width: 100%; height: 600px;">
                {% endif %}
            </div>
        </div>
        <div class="col-12 col-lg-4 mt-5 mt-2">
            <form class="border border-0 border-start border-2 border-warning mt-4"
                  hx-get="{% url 'constructor_page' category=item_category model=item_model %}"
                  hx-trigger="change"
                  hx-target="#swap-this"
                  hx-select="#swap-this"
                  hx-swap="outerHTML"
                  hx-ext="loading-states"
                  hx-push-url="true">
                <div class="row d-flex ms-1">
                    <div class="col-5 d-flex align-items-center text-center">
                        <p>Тип роз'єму</p>
                    </div>
                    <div class="col-7 d-flex justify-content-end type-select">
                        <select class="constructor-form form-select border-0 border-bottom rounded-0" name="type">
                            {% for values in type %}
                                <option value="{{ values.type }}">{{values.type}}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <div class="row ms-1">
                    <div class="col-5 d-flex align-items-center text-center">
                        <p>Кількість фаз</p>
                    </div>
                    <div class="col-7 constructor-f d-flex justify-content-end phases">
                        <select class="constructor-form form-select border-0 border-bottom rounded-0" name="phases">
                            {% for values in phases %}
                                <option value="{{ values.phases }}">{{values.phases}}</option>
                            {%endfor%}
                        </select>
                    </div>
                </div>
                <div class="row ms-1">
                    <div class="power-select col-5 d-flex align-items-center text-center">
                        <p>Ампери</p>
                    </div>
                    <div class="col-7 constructor-f d-flex justify-content-end">
                        <select class="constructor-form form-select border-0 border-bottom rounded-0" name="power_amps">
                            {% for values in power_amps %}
                                <option value="{{ values.power_amps }}">{{values.power_amps}}</option>
                            {%endfor%}
                        </select>
                    </div>
                </div>
                <div class="row ms-1">
                    <div class="col-5 d-flex align-items-center text-center">
                        <p>Довжина</p>
                    </div>
                    <div class="col-7 constructor-f d-flex justify-content-end">
                        <select class="constructor-form form-select border-0 border-bottom rounded-0" name="cable_length">
                            {% for values in cable_length %}
                                <option value="{{ values.cable_length }}">{{values.cable_length}}</option>
                            {%endfor%}
                        </select>
                    </div>
                </div>
                <div class="row ms-1">
                    <div class="col-5 d-flex align-items-center text-center">
                        <p>Колір</p>
                    </div>
                    <div class="col-7 constructor-f">
                        <select class="constructor-form form-select border-0 border-bottom rounded-0" name="color">
                                <option value="{{ none }}">Помаранчевий</option>
                        </select>
                    </div>
                </div>
                <div class="col-12">
                    <select class="constructor-form form-select visually-hidden" name="model">
                        <option value="{{ item_model }}">{{item_model}}</option>
                    </select>
                    <select class="constructor-form form-select visually-hidden" name="category">
                        <option value="{{ item_category }}">{{item_category}}</option>
                    </select>
                    <select class="constructor-form form-select visually-hidden" name="item_result">
                        <option value="true">true</option>
                    </select>
                </div>
            </form>
        </div>
    </div>

    {% endif %}

    <div class="accordion mt-4" id="accordionFlushExample">
        <div class="accordion-item border border-2">
            <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                Як правильно підібрати обладнання?
                </button>
            </h2>
            <div id="flush-collapseOne" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample">
                <div class="accordion-body">Placeholder content for this accordion, which is intended to demonstrate the <code>.accordion-flush</code> class. This is the first item's accordion body.</div>
            </div>
        </div>
    </div>
</div>

{% endblock %}

